@namespace MediaSet.Blazor.Components.Shared

@if (Opened)
{
  @* full page overlay(backdrop) *@
  <div id="overlay" class="fixed z-40 w-screen h-screen inset-0 bg-gray-900 bg-opacity-60"></div>

  <div id="dialog" class="fixed z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 dark:bg-zinc-700 rounded-md px-8 py-6 drop-shadow-lg flex flex-col gap-4">
      <div id="dialog-header" class="flex flex-row justify-between">
        <div>@Title</div>
        <div><Button @onclick="CloseDialog">Close</Button></div>
      </div>
      <div id="dialog-body">
        @BodyContent
      </div>
      <div id="dialog-footer" class="flex flex-row justify-end gap-2">
        @FooterContent
      </div>
  </div>
}

@code {
  [Parameter, EditorRequired] public bool Opened { get; set; }
  [Parameter, EditorRequired] public string Title { get; set; } = string.Empty;
  [Parameter] public RenderFragment? BodyContent { get; set; }
  [Parameter] public RenderFragment? FooterContent { get; set; }
  [Parameter] public EventCallback Closed { get; set; }

  private void CloseDialog()
  {
    Opened = false;
    Closed.InvokeAsync();
  }
}
